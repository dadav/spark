---

- name: Install fonts
  pacman: name="{{ japanese.fonts }}" state=present
  tags:
    - japanese

- name: Install packages
  pacman: name="{{ japanese.packages }}" state=present
  tags:
    - japanese

- name: Locale config
  locale_gen: name="ja_JP.UTF-8" state=present
  tags:
    - japanese

- name: Push Service
  template: src=ibus-daemon.service.j2 dest=/etc/systemd/system/ibus-daemon.service
  notify:
    - reload systemd config
  tags:
    - japanese

- name: Activate Service
  service:
    name: ibus-daemon.service
    enabled: yes
    state: started
  when: japanese.service == True
